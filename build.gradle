plugins {
  id 'java' 
  id 'jacoco' 
  id 'idea' 
  id 'org.jetbrains.gradle.plugin.idea-ext'  version '0.5' 
  id 'ru.vyarus.mkdocs'  version '1.1.0' 
}
version "${version != 'unspecified' && version != '' ? version : 'latest'}"
group 'com.hiberbee'

idea {
  module.downloadSources = true
  module.inheritOutputDirs = true
}
mkdocs {
  buildDir = 'docs'
  sourcesDir = 'src/main/resources/docs'
}

compileJava {
  targetCompatibility = 11
  sourceCompatibility = 11
  options.incremental = true
  options.fork = true
}
test {
  useJUnitPlatform()
}

repositories {
  mavenCentral()
}

dependencies {
  implementation 'org.springframework.boot:spring-boot-autoconfigure:2.1.3.RELEASE'
  implementation 'org.influxdb:influxdb-java:2.14'
  implementation 'io.micrometer:micrometer-core:1.1.3'
  implementation 'com.fasterxml.jackson.core:jackson-annotations:2.9.8'
  annotationProcessor 'org.projectlombok:lombok:1.18.6'
  compileOnly 'org.projectlombok:lombok:1.18.6'
}
